<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="2500"
   height="2500"
   viewBox="0 0 661.45832 661.45833"
   version="1.1"
   id="svg1"
   inkscape:version="1.3.2 (091e20ef0f, 2023-11-25, custom)"
   sodipodi:docname="ccanvas-structure.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#505050"
     bordercolor="#ffffff"
     borderopacity="1"
     inkscape:showpageshadow="0"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="1"
     inkscape:deskcolor="#505050"
     inkscape:document-units="mm"
     inkscape:zoom="0.27527861"
     inkscape:cx="768.3125"
     inkscape:cy="1164.275"
     inkscape:window-width="1888"
     inkscape:window-height="1025"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs1" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <rect
       style="fill:#1a1b24;fill-opacity:1;stroke:#ffffff;stroke-width:1.3145;stroke-dasharray:none;stroke-opacity:1"
       id="rect59"
       width="660.1438"
       height="660.14386"
       x="0.65725124"
       y="0.65725124" />
    <text
       xml:space="preserve"
       style="font-size:3.175px;fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
       x="230.85449"
       y="45.195648"
       id="text1"><tspan
         sodipodi:role="line"
         id="tspan1"
         style="stroke-width:1.32292"
         x="230.85449"
         y="45.195648" /></text>
    <text
       xml:space="preserve"
       style="font-size:4.23333px;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
       x="221.95294"
       y="36.404827"
       id="text2"><tspan
         sodipodi:role="line"
         id="tspan2"
         style="font-size:4.23333px;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292"
         x="221.95294"
         y="36.404827" /></text>
    <g
       id="g11"
       transform="translate(-177.30258,-4.7776075)">
      <g
         id="g38">
        <rect
           style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           id="rect1"
           width="122.09657"
           height="60.627792"
           x="217.08977"
           y="28.620886" />
        <text
           xml:space="preserve"
           style="font-size:4.23333px;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           x="221.89149"
           y="41.600639"
           id="text3"><tspan
             id="tspan3"
             style="font-size:8.46667px;stroke-width:1.32292"
             x="221.89149"
             y="41.600639"
             sodipodi:role="line">Component&lt;T&gt;</tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="48.332165"
             sodipodi:role="line"
             id="tspan9">A unit of &quot;something&quot; in ccanvas.</tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="53.623829"
             sodipodi:role="line"
             id="tspan37"></tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="58.915489"
             sodipodi:role="line"
             id="tspan38">label -&gt; &amp;str</tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="64.207153"
             id="tspan4"
             sodipodi:role="line">discrim -&gt; &amp;[u32] // id path to item</tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="69.498817"
             id="tspan6"
             sodipodi:role="line">pool -&gt; &amp;Pool // pool of data for current component</tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="74.790474"
             sodipodi:role="line"
             id="tspan10">storage -&gt; &amp;Storage // file storage for current component</tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="80.082138"
             sodipodi:role="line"
             id="tspan11"></tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="85.373802"
             sodipodi:role="line"
             id="tspan16">pass(event: &amp;Event) // pass an event</tspan><tspan
             style="stroke-width:1.32292"
             x="221.89149"
             y="90.665466"
             sodipodi:role="line"
             id="tspan7" /></text>
      </g>
    </g>
    <g
       id="g26"
       transform="translate(-14.59819,-88.304803)">
      <g
         id="g41">
        <rect
           style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           id="rect1-3"
           width="123.33548"
           height="67.05481"
           x="189.19305"
           y="112.85445" />
        <text
           xml:space="preserve"
           style="font-size:4.23333px;white-space:pre;inline-size:116.577;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           x="193.44194"
           y="125.8342"
           id="text3-5"><tspan
             x="193.44194"
             y="125.8342"
             id="tspan8"><tspan
               style="font-size:8.46667px"
               id="tspan5">Space: Component&lt;T&gt;
</tspan></tspan><tspan
             x="193.44194"
             y="132.56573"
             id="tspan12">A basic container which contains collections of processes </tspan><tspan
             x="193.44194"
             y="137.85739"
             id="tspan13">and potential subspaces.
</tspan><tspan
             x="193.44194"
             y="143.14904"
             id="tspan14">
</tspan><tspan
             x="193.44194"
             y="148.4407"
             id="tspan17">focus -&gt; Focus // self, or the subspace it is focusing
</tspan><tspan
             x="193.44194"
             y="153.73236"
             id="tspan18">passes -&gt; Passes // event subscriptions
</tspan><tspan
             x="193.44194"
             y="159.02401"
             id="tspan19">subspaces -&gt; Collection&lt;Self&gt; // spaces it contains
</tspan><tspan
             x="193.44194"
             y="164.31567"
             id="tspan20">
</tspan><tspan
             x="193.44194"
             y="169.60733"
             id="tspan21">new(label: String) -&gt; Self
</tspan><tspan
             x="193.44194"
             y="174.89898"
             id="tspan22">async listen() // listen and capture all events, nonblocking</tspan></text>
      </g>
    </g>
    <g
       id="g26-2"
       transform="translate(-103.63109,13.489303)">
      <g
         id="g34">
        <g
           id="g45"
           transform="translate(-46.504478,-26.18316)">
          <rect
             style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             id="rect1-3-9"
             width="183.34621"
             height="51.066769"
             x="189.19305"
             y="112.85445" />
          <text
             xml:space="preserve"
             style="font-size:4.23333px;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             x="193.44194"
             y="125.8342"
             id="text3-5-3"><tspan
               id="tspan3-6-1"
               style="font-size:8.46667px;stroke-width:1.32292"
               x="193.44194"
               y="125.8342"
               sodipodi:role="line">Collection&lt;T&gt; = Hashmap&lt;[u32], Mutex&lt;T&gt;&gt;</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="132.56572"
               sodipodi:role="line"
               id="tspan24-5">A basic collection of items.</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="137.85739"
               sodipodi:role="line"
               id="tspan45" /><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="143.14905"
               sodipodi:role="line"
               id="tspan33">insert(item: T) -&gt; Optional&lt;Mutex&lt;T&gt;&gt; // returns handle to it</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="148.4407"
               sodipodi:role="line"
               id="tspan32">remove(discrim: &amp;[u32]) -&gt; bool</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="153.73238"
               sodipodi:role="line"
               id="tspan34">find_by_discrim(discrim: &amp;[u32]) -&gt; Option&lt;Mutex&lt;T&gt;&gt;</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="159.02403"
               sodipodi:role="line"
               id="tspan31">async find_all_by_label(label: &amp;str) -&gt; Vec&lt;Mutex&lt;T&gt;&gt;</tspan></text>
        </g>
      </g>
    </g>
    <g
       id="g54"
       transform="translate(214.68154,134.66387)">
      <g
         id="g55"
         transform="translate(59.00868,-25.791574)">
        <rect
           style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           id="rect1-3-76"
           width="123.88831"
           height="44.94841"
           x="189.19305"
           y="112.85445" />
        <text
           xml:space="preserve"
           style="font-size:4.23333px;white-space:pre;inline-size:116.577;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           x="193.44194"
           y="125.8342"
           id="text3-5-56"><tspan
             x="193.44194"
             y="125.8342"
             id="tspan24"><tspan
   style="font-size:8.46667px"
   id="tspan23">PassItem</tspan>
</tspan><tspan
             x="193.44194"
             y="132.56573"
             id="tspan25">A single subscription pass of an event to a process, could </tspan><tspan
             x="193.44194"
             y="137.85739"
             id="tspan26">capture or pass on the event to the next pass.
</tspan><tspan
             x="193.44194"
             y="143.14904"
             id="tspan27">
</tspan><tspan
             x="193.44194"
             y="148.4407"
             id="tspan28">priority -&gt; u16
</tspan><tspan
             x="193.44194"
             y="153.73236"
             id="tspan29">process -&gt; Mutex&lt;Process&gt;
</tspan><tspan
             x="193.44194"
             y="159.02401"
             id="tspan30">
</tspan></text>
      </g>
    </g>
    <g
       id="g54-0"
       transform="translate(156.28409,96.964334)">
      <g
         id="g55-7"
         transform="translate(59.00868,-25.791574)">
        <g
           id="g56">
          <rect
             style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             id="rect1-3-76-8"
             width="182.50674"
             height="31.662367"
             x="189.19305"
             y="112.85445" />
          <text
             xml:space="preserve"
             style="font-size:4.23333px;white-space:pre;inline-size:175.195;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             x="193.44194"
             y="125.8342"
             id="text3-5-56-6"><tspan
               x="193.44194"
               y="125.8342"
               id="tspan40"><tspan
   style="font-size:8.46667px"
   id="tspan39">Passes = Hashmap&lt;Subscription, PassItem&gt;</tspan>
</tspan><tspan
               x="193.44194"
               y="132.56573"
               id="tspan41">An ordered event-process(es) map for a space.
</tspan><tspan
               x="193.44194"
               y="137.85739"
               id="tspan42">If event is uncaptured after all passes, it is passed on to the focused space (if exists).
</tspan></text>
        </g>
      </g>
    </g>
    <g
       id="g17-3"
       transform="translate(109.44081,-31.517502)">
      <g
         id="g24"
         transform="translate(11.723684,1.5636889)">
        <g
           id="g47"
           transform="translate(1.9344969,-1.105695)">
          <rect
             style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             id="rect1-3-7"
             width="103.7008"
             height="42.232922"
             x="189.19305"
             y="112.85445" />
          <text
             xml:space="preserve"
             style="font-size:4.23333px;white-space:pre;inline-size:98.8853;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             x="193.44194"
             y="125.8342"
             id="text3-5-5"><tspan
               x="193.44194"
               y="125.8342"
               id="tspan54"><tspan
                 style="font-size:8.46667px"
                 id="tspan53">Process: Component&lt;T&gt;
</tspan></tspan><tspan
               x="193.44194"
               y="132.56573"
               id="tspan55">Wrapper for native Linux processes owned by a </tspan><tspan
               x="193.44194"
               y="137.85739"
               id="tspan56">space.
</tspan><tspan
               x="193.44194"
               y="143.14904"
               id="tspan57">
</tspan><tspan
               x="193.44194"
               y="148.4407"
               id="tspan58">// todo</tspan></text>
        </g>
      </g>
    </g>
    <g
       id="g17-0"
       transform="translate(-4.5042597,30.14514)">
      <g
         id="g22"
         transform="translate(127.7871,-118.01869)">
        <g
           id="g52">
          <rect
             style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             id="rect1-3-6"
             width="135.3817"
             height="48.407219"
             x="189.19305"
             y="112.85445" />
          <text
             xml:space="preserve"
             style="font-size:4.23333px;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             x="193.44194"
             y="125.8342"
             id="text3-5-2"><tspan
               id="tspan3-6-6"
               style="font-size:8.46667px;stroke-width:1.32292"
               x="193.44194"
               y="125.8342"
               sodipodi:role="line">Pool = Hashmap&lt;String, String&gt;</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="132.56572"
               sodipodi:role="line"
               id="tspan50">A pool of key-value pairs to be accessed by processes.</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="137.85739"
               sodipodi:role="line"
               id="tspan51">- Space-wide shared storage (+ accessible by childrens)</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="143.14905"
               sodipodi:role="line"
               id="tspan52">- Process private storage</tspan><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="148.4407"
               sodipodi:role="line"
               id="tspan49" /><tspan
               style="stroke-width:1.32292"
               x="193.44194"
               y="153.73238"
               sodipodi:role="line"
               id="tspan48">// todo</tspan></text>
        </g>
      </g>
    </g>
    <g
       id="g17-3-1"
       transform="translate(-23.096979,102.98796)">
      <g
         id="g24-0"
         transform="translate(11.723684,1.5636889)">
        <g
           id="g44"
           transform="translate(134.82237,-33.608691)">
          <rect
             style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             id="rect1-3-7-6"
             width="85.41433"
             height="56.414074"
             x="189.19305"
             y="112.85445" />
          <text
             xml:space="preserve"
             style="font-size:4.23333px;white-space:pre;inline-size:79.3811;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
             x="193.44194"
             y="125.8342"
             id="text3-5-5-3"><tspan
               x="193.44194"
               y="125.8342"
               id="tspan60"><tspan
                 style="font-size:8.46667px"
                 id="tspan59">Focus
</tspan></tspan><tspan
               x="193.44194"
               y="132.56573"
               id="tspan61">Indicates what is the current focused </tspan><tspan
               x="193.44194"
               y="137.85739"
               id="tspan62">space in a space, and so which space to </tspan><tspan
               x="193.44194"
               y="143.14904"
               id="tspan63">pass the events to.
</tspan><tspan
               x="193.44194"
               y="148.4407"
               id="tspan64">
</tspan><tspan
               x="193.44194"
               y="153.73236"
               id="tspan65">enum:
</tspan><tspan
               x="193.44194"
               y="159.02401"
               id="tspan66">- This
</tspan><tspan
               x="193.44194"
               y="164.31567"
               id="tspan67">- Children(Mutex&lt;Space&gt;)</tspan></text>
        </g>
      </g>
    </g>
    <g
       id="g17-3-6"
       transform="translate(109.30111,166.40451)">
      <g
         id="g24-8"
         transform="translate(11.723684,1.5636889)">
        <g
           id="g47-9"
           transform="translate(1.9344969,-1.105695)">
          <g
             id="g57">
            <rect
               style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
               id="rect1-3-7-2"
               width="103.7008"
               height="42.232922"
               x="189.19305"
               y="112.85445" />
            <text
               xml:space="preserve"
               style="font-size:4.23333px;white-space:pre;inline-size:98.8853;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
               x="193.44194"
               y="125.8342"
               id="text3-5-5-6"><tspan
                 x="193.44194"
                 y="125.8342"
                 id="tspan69"><tspan
                   style="font-size:8.46667px"
                   id="tspan68">Storage
</tspan></tspan><tspan
                 x="193.44194"
                 y="132.56573"
                 id="tspan70">Wrapper for a filesystem location allocated to a </tspan><tspan
                 x="193.44194"
                 y="137.85739"
                 id="tspan71">process/space/canvas
</tspan><tspan
                 x="193.44194"
                 y="143.14904"
                 id="tspan72">
</tspan><tspan
                 x="193.44194"
                 y="148.4407"
                 id="tspan73">// todo</tspan></text>
          </g>
        </g>
      </g>
    </g>
    <g
       id="g58"
       transform="translate(237.37021,14.997554)">
      <rect
         style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
         id="rect1-3-7-6-7"
         width="83.20295"
         height="41.492828"
         x="189.19305"
         y="112.85445" />
      <text
         xml:space="preserve"
         style="font-size:4.23333px;white-space:pre;inline-size:79.3811;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
         x="193.44194"
         y="125.8342"
         id="text3-5-5-3-2"><tspan
           x="193.44194"
           y="125.8342"
           id="tspan75"><tspan
   style="font-size:8.46667px"
   id="tspan74">Subscription</tspan>
</tspan><tspan
           x="193.44194"
           y="132.56573"
           id="tspan76">Different subscription types which a </tspan><tspan
           x="193.44194"
           y="137.85739"
           id="tspan77">process can subscribe to.
</tspan><tspan
           x="193.44194"
           y="143.14904"
           id="tspan78">enum:
</tspan><tspan
           x="193.44194"
           y="148.4407"
           id="tspan79">// todo</tspan></text>
    </g>
    <g
       id="g58-0"
       transform="translate(237.46618,-31.033858)">
      <g
         id="g59">
        <rect
           style="fill:#f9f9f9;fill-opacity:0;stroke:#ffffff;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           id="rect1-3-7-6-7-9"
           width="166.10191"
           height="37.070988"
           x="189.19305"
           y="112.85445" />
        <text
           xml:space="preserve"
           style="font-size:4.23333px;white-space:pre;inline-size:160.622;display:inline;fill:#f9f9f9;fill-opacity:1;stroke:none;stroke-width:1.32292;stroke-dasharray:none;stroke-opacity:1"
           x="193.44194"
           y="125.8342"
           id="text3-5-5-3-2-1"><tspan
             x="193.44194"
             y="125.8342"
             id="tspan81"><tspan
   style="font-size:8.46667px"
   id="tspan80">Subscriptions = Hashset&lt;Subscription&gt;</tspan>
</tspan><tspan
             x="193.44194"
             y="132.56573"
             id="tspan82">Multiple subscriptions a process can have.
</tspan><tspan
             x="193.44194"
             y="137.85739"
             id="tspan83">
</tspan><tspan
             x="193.44194"
             y="143.14904"
             id="tspan84">// todo</tspan></text>
      </g>
    </g>
  </g>
</svg>
